<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="T013 · Data acquisition from PubChem" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://projects.volkamerlab.org/teachopencadd/talktorials/T013_query_pubchem.html" />
<meta property="og:site_name" content="TeachOpenCADD" />
<meta property="og:description" content="Note: This talktorial is a part of TeachOpenCADD, a platform that aims to teach domain-specific skills and to provide pipeline templates as starting points for research projects. Authors: Jaime Rodríguez-Guerra, 2019-2020, Volkamer lab, Charité, Dominique Sydow, 2019-2020, Volkamer lab, Charité, ..." />
<meta property="og:image" content="https://raw.githubusercontent.com/volkamerlab/teachopencadd/master/docs/_static/images/TeachOpenCADD_topics.png" />
<meta property="og:image:alt" content="TeachOpenCADD" />
<meta name="description" content="Note: This talktorial is a part of TeachOpenCADD, a platform that aims to teach domain-specific skills and to provide pipeline templates as starting points for research projects. Authors: Jaime Rodríguez-Guerra, 2019-2020, Volkamer lab, Charité, Dominique Sydow, 2019-2020, Volkamer lab, Charité, ..." />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#2196f3">
  <script src="../_static/javascripts/modernizr.js"></script>
  
    <script async src="../_static/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load", function(){
        window.cookieconsent.initialise({
            "palette": {
            "popup": {
                "background": "#f0f0f0",
                "text": "#999"
            },
            "button": {
                "text": "#fff",
                "background": "#009688"
            }
            },
            "theme": "classic"
        })});
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q6ZE82CNZB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-Q6ZE82CNZB');
    </script>
  
    <link rel="apple-touch-icon" href="../_static/images/apple-icon-152x152.png"/>
  
  
    <title>T013 · Data acquisition from PubChem &#8212; TeachOpenCADD 0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=897d968c" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=e43216b9"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="T014 · Binding site detection" href="T014_binding_site_detection.html" />
    <link rel="prev" title="T012 · Data acquisition from KLIFS" href="T012_query_klifs.html" />
  
    <link rel="apple-touch-icon" href="../_static/images/apple-icon-152x152.png"/>
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=teal data-md-color-accent=cyan>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#talktorials/T013_query_pubchem" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="TeachOpenCADD 0 documentation"
           class="md-header-nav__button md-logo">
          
            <i class="md-icon">school</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">TeachOpenCADD</span>
          <span class="md-header-nav__topic"> T013 · Data acquisition from PubChem </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/volkamerlab/teachopencadd/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    TeachOpenCADD
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../talktorials.html" class="md-tabs__link">Our talktorials</a></li>
            
            <li class="md-tabs__item"><a href="../installing.html" class="md-tabs__link">Run locally</a></li>
            
            <li class="md-tabs__item"><a href="../contribute.html" class="md-tabs__link">Development</a></li>
            
            <li class="md-tabs__item"><a href="../contact.html" class="md-tabs__link">Contact</a></li>
            
            <li class="md-tabs__item"><a href="../citation.html" class="md-tabs__link">Citation</a></li>
          <li class="md-tabs__item"><a href="../all_talktorials.html" class="md-tabs__link">Complete list of talktorials</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="TeachOpenCADD 0 documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">school</i>
      
    </a>
    <a href="../index.html"
       title="TeachOpenCADD 0 documentation">TeachOpenCADD</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/volkamerlab/teachopencadd/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    TeachOpenCADD
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Our talktorials</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../all_talktorials.html" class="md-nav__link">Complete list of talktorials</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="T001_query_chembl.html" class="md-nav__link">T001 · Compound data acquisition (ChEMBL)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T002_compound_adme.html" class="md-nav__link">T002 · Molecular filtering: ADME and lead-likeness criteria</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T003_compound_unwanted_substructures.html" class="md-nav__link">T003 · Molecular filtering: unwanted substructures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T004_compound_similarity.html" class="md-nav__link">T004 · Ligand-based screening: compound similarity</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T005_compound_clustering.html" class="md-nav__link">T005 · Compound clustering</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T006_compound_maximum_common_substructures.html" class="md-nav__link">T006 · Maximum common substructure</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T007_compound_activity_machine_learning.html" class="md-nav__link">T007 · Ligand-based screening: machine learning</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T008_query_pdb.html" class="md-nav__link">T008 · Protein data acquisition: Protein Data Bank (PDB)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T009_compound_ensemble_pharmacophores.html" class="md-nav__link">T009 · Ligand-based pharmacophores</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T010_binding_site_comparison.html" class="md-nav__link">T010 · Binding site similarity and off-target prediction</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T011_query_online_api_webservices.html" class="md-nav__link">T011 · Querying online API webservices</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T012_query_klifs.html" class="md-nav__link">T012 · Data acquisition from KLIFS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> T013 · Data acquisition from PubChem </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">T013 · Data acquisition from PubChem</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#talktorials-t013-query-pubchem--page-root" class="md-nav__link">T013 · Data acquisition from PubChem</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Aim-of-this-talktorial" class="md-nav__link">Aim of this talktorial</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Contents-in-Theory" class="md-nav__link">Contents in <em>Theory</em></a>
        </li>
        <li class="md-nav__item"><a href="#Contents-in-Practical" class="md-nav__link">Contents in <em>Practical</em></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#References" class="md-nav__link">References</a>
        </li>
        <li class="md-nav__item"><a href="#Theory" class="md-nav__link">Theory</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#PubChem" class="md-nav__link">PubChem</a>
        </li>
        <li class="md-nav__item"><a href="#Programmatic-access-to-PubChem" class="md-nav__link">Programmatic access to PubChem</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Practical" class="md-nav__link">Practical</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Simple-examples-for-the-PubChem-API" class="md-nav__link">Simple examples for the PubChem API</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#How-to-get-the-PubChem-CID-for-a-compound" class="md-nav__link">How to get the PubChem CID for a compound</a>
        </li>
        <li class="md-nav__item"><a href="#Retrieve-molecular-properties-based-on-a-PubChem-CID" class="md-nav__link">Retrieve molecular properties based on a PubChem CID</a>
        </li>
        <li class="md-nav__item"><a href="#Depict-a-compound-with-PubChem" class="md-nav__link">Depict a compound with PubChem</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Query-PubChem-for-similar-compounds" class="md-nav__link">Query PubChem for similar compounds</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#1.-Determine-a-query-compound" class="md-nav__link">1. Determine a query compound</a>
        </li>
        <li class="md-nav__item"><a href="#2.-Create-task-and-get-the-job-key" class="md-nav__link">2. Create task and get the job key</a>
        </li>
        <li class="md-nav__item"><a href="#3.-Download-results-when-job-finished" class="md-nav__link">3. Download results when job finished</a>
        </li>
        <li class="md-nav__item"><a href="#4.-Get-canonical-SMILES-for-resulting-molecules" class="md-nav__link">4. Get canonical SMILES for resulting molecules</a>
        </li>
        <li class="md-nav__item"><a href="#5.-Show-the-results" class="md-nav__link">5. Show the results</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Discussion" class="md-nav__link">Discussion</a>
        </li>
        <li class="md-nav__item"><a href="#Quiz" class="md-nav__link">Quiz</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/talktorials/T013_query_pubchem.nblink.txt">Show Source</a> </li>

  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T014_binding_site_detection.html" class="md-nav__link">T014 · Binding site detection</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T015_protein_ligand_docking.html" class="md-nav__link">T015 · Protein ligand docking</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T016_protein_ligand_interactions.html" class="md-nav__link">T016 · Protein-ligand interactions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T017_advanced_nglview_usage.html" class="md-nav__link">T017 · Advanced NGLview usage</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T018_automated_cadd_pipeline.html" class="md-nav__link">T018 · Automated pipeline for lead optimization</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T019_md_simulation.html" class="md-nav__link">T019 · Molecular dynamics simulation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T020_md_analysis.html" class="md-nav__link">T020 · Analyzing molecular dynamics simulations</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T021_one_hot_encoding.html" class="md-nav__link">T021 · One-Hot Encoding</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T022_ligand_based_screening_neural_network.html" class="md-nav__link">T022 · Ligand-based screening: neural networks</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T023_what_is_a_kinase.html" class="md-nav__link">T023 · What is a kinase?</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T024_kinase_similarity_sequence.html" class="md-nav__link">T024 · Kinase similarity: Sequence</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T025_kinase_similarity_kissim.html" class="md-nav__link">T025 · Kinase similarity: Kinase pocket (KiSSim fingerprint)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T026_kinase_similarity_ifp.html" class="md-nav__link">T026 · Kinase similarity: Interaction fingerprints</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T027_kinase_similarity_ligand_profile.html" class="md-nav__link">T027 · Kinase similarity: Ligand profile</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T028_kinase_similarity_compare_perspectives.html" class="md-nav__link">T028 · Kinase similarity: Compare different perspectives</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T033_molecular_representations.html" class="md-nav__link">T033 · Molecular representations</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T034_recurrent_neural_networks.html" class="md-nav__link">T034 · RNN-based molecular property prediction</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T035_graph_neural_networks.html" class="md-nav__link">T035 · GNN-based molecular property prediction</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T036_e3_equivariant_gnn.html" class="md-nav__link">T036 · An introduction to E(3)-invariant graph neural networks</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T037_uncertainty_estimation.html" class="md-nav__link">T037 · Uncertainty estimation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="T038_protein_ligand_interaction_prediction.html" class="md-nav__link">T038 · Protein Ligand Interaction Prediction</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../talktorials.html" class="md-nav__link">Talktorials by collection</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Run locally</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installing.html" class="md-nav__link">Installing</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Development</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../contribute.html" class="md-nav__link">For contributors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../api.html" class="md-nav__link">API Documentation</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">About TeachOpenCADD</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../contact.html" class="md-nav__link">Contact</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../acknowledgments.html" class="md-nav__link">Acknowledgments</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../citation.html" class="md-nav__link">Citation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../license.html" class="md-nav__link">License</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../funding.html" class="md-nav__link">Funding</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">External resources</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../external_dependencies.html" class="md-nav__link">Packages and webservers used in TeachOpenCADD</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../external_tutorials_collections.html" class="md-nav__link">External tutorials and collections</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#talktorials-t013-query-pubchem--page-root" class="md-nav__link">T013 · Data acquisition from PubChem</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Aim-of-this-talktorial" class="md-nav__link">Aim of this talktorial</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Contents-in-Theory" class="md-nav__link">Contents in <em>Theory</em></a>
        </li>
        <li class="md-nav__item"><a href="#Contents-in-Practical" class="md-nav__link">Contents in <em>Practical</em></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#References" class="md-nav__link">References</a>
        </li>
        <li class="md-nav__item"><a href="#Theory" class="md-nav__link">Theory</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#PubChem" class="md-nav__link">PubChem</a>
        </li>
        <li class="md-nav__item"><a href="#Programmatic-access-to-PubChem" class="md-nav__link">Programmatic access to PubChem</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Practical" class="md-nav__link">Practical</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#Simple-examples-for-the-PubChem-API" class="md-nav__link">Simple examples for the PubChem API</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#How-to-get-the-PubChem-CID-for-a-compound" class="md-nav__link">How to get the PubChem CID for a compound</a>
        </li>
        <li class="md-nav__item"><a href="#Retrieve-molecular-properties-based-on-a-PubChem-CID" class="md-nav__link">Retrieve molecular properties based on a PubChem CID</a>
        </li>
        <li class="md-nav__item"><a href="#Depict-a-compound-with-PubChem" class="md-nav__link">Depict a compound with PubChem</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Query-PubChem-for-similar-compounds" class="md-nav__link">Query PubChem for similar compounds</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#1.-Determine-a-query-compound" class="md-nav__link">1. Determine a query compound</a>
        </li>
        <li class="md-nav__item"><a href="#2.-Create-task-and-get-the-job-key" class="md-nav__link">2. Create task and get the job key</a>
        </li>
        <li class="md-nav__item"><a href="#3.-Download-results-when-job-finished" class="md-nav__link">3. Download results when job finished</a>
        </li>
        <li class="md-nav__item"><a href="#4.-Get-canonical-SMILES-for-resulting-molecules" class="md-nav__link">4. Get canonical SMILES for resulting molecules</a>
        </li>
        <li class="md-nav__item"><a href="#5.-Show-the-results" class="md-nav__link">5. Show the results</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#Discussion" class="md-nav__link">Discussion</a>
        </li>
        <li class="md-nav__item"><a href="#Quiz" class="md-nav__link">Quiz</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/talktorials/T013_query_pubchem.nblink.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="T013-·-Data-acquisition-from-PubChem">
<h1 id="talktorials-t013-query-pubchem--page-root">T013 · Data acquisition from PubChem<a class="headerlink" href="#talktorials-t013-query-pubchem--page-root" title="Permalink to this heading">¶</a></h1>
<p><strong>Note:</strong> This talktorial is a part of TeachOpenCADD, a platform that aims to teach domain-specific skills and to provide pipeline templates as starting points for research projects.</p>
<p>Authors:</p>
<ul class="simple">
<li><p>Jaime Rodríguez-Guerra, 2019-2020, <a class="reference external" href="https://volkamerlab.org/">Volkamer lab, Charité</a></p></li>
<li><p>Dominique Sydow, 2019-2020, <a class="reference external" href="https://volkamerlab.org/">Volkamer lab, Charité</a></p></li>
<li><p>Yonghui Chen, 2019-2020, <a class="reference external" href="https://volkamerlab.org/">Volkamer lab, Charité</a></p></li>
</ul>
<section id="Aim-of-this-talktorial">
<h2 id="Aim-of-this-talktorial">Aim of this talktorial<a class="headerlink" href="#Aim-of-this-talktorial" title="Permalink to this heading">¶</a></h2>
<p>In this notebook, you will learn how to search for compounds similar to an input SMILES in <a class="reference external" href="https://pubchem.ncbi.nlm.nih.gov/">PubChem</a> with the API web service.</p>
<section id="Contents-in-Theory">
<h3 id="Contents-in-Theory">Contents in <em>Theory</em><a class="headerlink" href="#Contents-in-Theory" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>PubChem</p></li>
<li><p>Programmatic access to PubChem</p></li>
</ul>
</section>
<section id="Contents-in-Practical">
<h3 id="Contents-in-Practical">Contents in <em>Practical</em><a class="headerlink" href="#Contents-in-Practical" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Simple examples for the PubChem API</p>
<ul>
<li><p>How to get the PubChem CID for a compound</p></li>
<li><p>Retrieve molecular properties based on a PubChem CID</p></li>
<li><p>Depict a compound with PubChem</p></li>
</ul>
</li>
<li><p>Query PubChem for similar compounds</p>
<ul>
<li><p>Determine a query compound</p></li>
<li><p>Create task and get the job key</p></li>
<li><p>Download results when job finished</p></li>
<li><p>Get canonical SMILES for resulting molecules</p></li>
<li><p>Show the results</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="References">
<h2 id="References">References<a class="headerlink" href="#References" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Literature:</p>
<ul>
<li><p>PubChem 2019 update: <a class="reference external" href="https://academic.oup.com/nar/article/47/D1/D1102/5146201">Nucleic Acids Res. (2019), 47, D1102-1109</a></p></li>
<li><p>PubChem in 2021: <a class="reference external" href="https://academic.oup.com/nar/article/49/D1/D1388/5957164">Nucleic Acids Res.(2021), 49, D1388–D1395</a></p></li>
</ul>
</li>
<li><p>Documentation:</p>
<ul>
<li><p><a class="reference external" href="https://pubchem.ncbi.nlm.nih.gov/sources">PubChem Source Information</a></p></li>
<li><p><a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/pug-rest">PUG REST</a></p></li>
<li><p><a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/programmatic-access">Programmatic Access</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/PubChem">PubChem - Wikipedia</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="Theory">
<h2 id="Theory">Theory<a class="headerlink" href="#Theory" title="Permalink to this heading">¶</a></h2>
<section id="PubChem">
<h3 id="PubChem">PubChem<a class="headerlink" href="#PubChem" title="Permalink to this heading">¶</a></h3>
<p><a class="reference external" href="https://pubchem.ncbi.nlm.nih.gov/">PubChem</a> is an open database containing chemical molecules and their measured activities against biological assays, maintained by the <a class="reference external" href="https://www.ncbi.nlm.nih.gov/">National Center for Biotechnology Information (NCBI)</a>, part of <a class="reference external" href="https://www.nih.gov/">National Institutes of Health (NIH)</a>. It is the world’s largest freely available database of chemical information, collected from more than 770 data sources. There are three dynamically growing primary
subdatabases, i.e., substances, compounds, and bioassay databases. As of August 2020, PubChem contains over 110 million unique chemical structures and over 270 million bioactivities (<a class="reference external" href="https://academic.oup.com/nar/article/49/D1/D1388/5957164">Nucleic Acids Res.(2021), 49, D1388–D1395</a>).</p>
<p>These compounds can be queried using a broad range of properties including chemical structure, name, fragments, chemical formula, molecular weight, XlogP, hydrogen bond donor and acceptor count, etc. There is no doubt that PubChem has become a key chemical information resource for scientists, students, and the general public.</p>
<p>Every data from PubChem is free to access through both the web interface and a programmatic interface. Here, we are going to learn how to use the API of PubChem to do some cool things.</p>
</section>
<section id="Programmatic-access-to-PubChem">
<h3 id="Programmatic-access-to-PubChem">Programmatic access to PubChem<a class="headerlink" href="#Programmatic-access-to-PubChem" title="Permalink to this heading">¶</a></h3>
<p>For some reasons, mainly historical, PubChem provides several ways of programmatic access to the open data.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/pug-rest">PUG-REST</a> is a Representational State Transfer (REST)-style version of the PUG (Power User Gateway) web service, with both the syntax of the HTTP requests and the available functions. It can also provide convenient access to information on PubChem records which are not reachable with other PUG services.</p></li>
<li><p>PUG-View is another REST-style web service for PubChem. It can provide full reports, including third-party textual annotation, for PubChem records.</p></li>
<li><p>PUG offers programmatic access to PubChem service via a single common gateway interface (CGI).</p></li>
<li><p>PUG-SOAP uses the simple object access protocol (SOAP) to access PubChem data.</p></li>
<li><p>PubChemRDF REST interface is a special interface for RDF-encoded PubChem data.</p></li>
</ul>
<p>For more details about the PubChem API, please check out the introduction of <a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/programmatic-access">programmatic access</a> in the PubChem Docs.</p>
<p>In this tutorial, we will focus on the <strong>PUG-REST</strong> variant of the API, please refer to <strong>Talktorial T011</strong> for an introduction.</p>
</section>
</section>
<section id="Practical">
<h2 id="Practical">Practical<a class="headerlink" href="#Practical" title="Permalink to this heading">¶</a></h2>
<p>In this section, we will discuss how to search PubChem based on a given query molecule using the PUG-REST access.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">quote</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">rdkit</span> <span class="kn">import</span> <span class="n">Chem</span>
<span class="kn">from</span> <span class="nn">rdkit.Chem</span> <span class="kn">import</span> <span class="n">PandasTools</span>
<span class="kn">from</span> <span class="nn">rdkit.Chem.Draw</span> <span class="kn">import</span> <span class="n">MolsToGridImage</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">HERE</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">_dh</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">DATA</span> <span class="o">=</span> <span class="n">HERE</span> <span class="o">/</span> <span class="s2">"data"</span>
</pre></div>
</div>
</div>
<section id="Simple-examples-for-the-PubChem-API">
<h3 id="Simple-examples-for-the-PubChem-API">Simple examples for the PubChem API<a class="headerlink" href="#Simple-examples-for-the-PubChem-API" title="Permalink to this heading">¶</a></h3>
<p>Before querying PubChem for similar compounds, we provide some simple examples to show how to use the PubChem API. For more detail about the PubChem API, see <a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/pug-rest-tutorial">PUG-REST tutorial</a>.</p>
<section id="How-to-get-the-PubChem-CID-for-a-compound">
<h4 id="How-to-get-the-PubChem-CID-for-a-compound">How to get the PubChem CID for a compound<a class="headerlink" href="#How-to-get-the-PubChem-CID-for-a-compound" title="Permalink to this heading">¶</a></h4>
<p>For example, we will search for the PubChem Compound Identification (CID) for Aspirin by name.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get PubChem CID by name</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">"aspirin"</span>

<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">/cids/JSON"</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="k">if</span> <span class="s2">"IdentifierList"</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
    <span class="n">cid</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"IdentifierList"</span><span class="p">][</span><span class="s2">"CID"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Could not find matches for compound: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"PubChem CID for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is:</span><span class="se">\n</span><span class="si">{</span><span class="n">cid</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># NBVAL_CHECK_OUTPUT</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PubChem CID for aspirin is:
2244
</pre></div></div>
</div>
</section>
<section id="Retrieve-molecular-properties-based-on-a-PubChem-CID">
<h4 id="Retrieve-molecular-properties-based-on-a-PubChem-CID">Retrieve molecular properties based on a PubChem CID<a class="headerlink" href="#Retrieve-molecular-properties-based-on-a-PubChem-CID" title="Permalink to this heading">¶</a></h4>
<p>We can get interesting properties for a compound through its PubChem CID, such as molecular weight, pKd, logP, etc. Here, we will search for the molecular weight for Aspirin.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get mol weight for aspirin</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/</span><span class="si">{</span><span class="n">cid</span><span class="si">}</span><span class="s2">/property/MolecularWeight/JSON"</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="k">if</span> <span class="s2">"PropertyTable"</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
    <span class="n">mol_weight</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"PropertyTable"</span><span class="p">][</span><span class="s2">"Properties"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">"MolecularWeight"</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Could not find matches for PubChem CID: </span><span class="si">{</span><span class="n">cid</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Molecular weight for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> is:</span><span class="se">\n</span><span class="si">{</span><span class="n">mol_weight</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="c1"># NBVAL_CHECK_OUTPUT</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Molecular weight for aspirin is:
180.16
</pre></div></div>
</div>
</section>
<section id="Depict-a-compound-with-PubChem">
<h4 id="Depict-a-compound-with-PubChem">Depict a compound with PubChem<a class="headerlink" href="#Depict-a-compound-with-PubChem" title="Permalink to this heading">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get PNG image from PubChem</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/</span><span class="si">{</span><span class="n">cid</span><span class="si">}</span><span class="s2">/PNG"</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">"The 2D structure of Aspirin:"</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Image</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<p>The 2D structure of Aspirin:</p>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/talktorials_T013_query_pubchem_16_1.png" src="../_images/talktorials_T013_query_pubchem_16_1.png"/>
</div>
</div>
</section>
</section>
<section id="Query-PubChem-for-similar-compounds">
<h3 id="Query-PubChem-for-similar-compounds">Query PubChem for similar compounds<a class="headerlink" href="#Query-PubChem-for-similar-compounds" title="Permalink to this heading">¶</a></h3>
<p>Use a <code class="docutils literal notranslate"><span class="pre">SMILES</span></code> string of a query compound to search for similar compounds in PubChem.</p>
<blockquote>
<div><p>Tip: You can check <strong>Talktorial T001</strong> to see how to do a similar operation with the ChEMBL database.</p>
</div></blockquote>
<p>We define a function to query the PubChem service for similar compounds to the given one. The Tanimoto-based similarity between (2D) PubChem fingerprint will be calculated here. You can see <a class="reference external" href="https://jcheminf.biomedcentral.com/articles/10.1186/s13321-016-0163-1">this paper</a> for more details about similarity evaluation in PubChem, and the <a class="reference external" href="https://ftp.ncbi.nlm.nih.gov/pubchem/specifications/pubchem_fingerprints.pdf">PubChem fingerprint specification</a> for the details about PubChem
fingerprint.</p>
<section id="1.-Determine-a-query-compound">
<h4 id="1.-Determine-a-query-compound">1. Determine a query compound<a class="headerlink" href="#1.-Determine-a-query-compound" title="Permalink to this heading">¶</a></h4>
<p>In the following steps, we will search compounds similar to Gefitinib, an inhibitor for EGFR, from the PubChem service. You can also choose another compound which you are interested in.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="s2">"COC1=C(C=C2C(=C1)N=CN=C2NC3=CC(=C(C=C3)F)Cl)OCCCN4CCOCC4"</span>  <span class="c1"># Gefitinib</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The structure of Gefitinib:"</span><span class="p">)</span>
<span class="n">Chem</span><span class="o">.</span><span class="n">MolFromSmiles</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The structure of Gefitinib:
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/talktorials_T013_query_pubchem_19_1.png" src="../_images/talktorials_T013_query_pubchem_19_1.png"/>
</div>
</div>
</section>
<section id="2.-Create-task-and-get-the-job-key">
<h4 id="2.-Create-task-and-get-the-job-key">2. Create task and get the job key<a class="headerlink" href="#2.-Create-task-and-get-the-job-key" title="Permalink to this heading">¶</a></h4>
<p>Input the canonical <code class="docutils literal notranslate"><span class="pre">SMILES</span></code> string for the given compound to create a new task, so we obtain a job key here. Note that this asynchronous API will not return the data immediately. In this case, the callback will be provided only when the requested resource is ready, which can be checked by the job key. So asynchronous requests are useful to work around certain slower operations.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">query_pubchem_for_similar_compounds</span><span class="p">(</span><span class="n">smiles</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span> <span class="n">n_records</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Query PubChem for similar compounds and return the job key.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    smiles : str</span>
<span class="sd">        The canonical SMILES string for the given compound.</span>
<span class="sd">    threshold : int</span>
<span class="sd">        The threshold of similarity, default 75%. In PubChem, the default threshold is 90%.</span>
<span class="sd">    n_records : int</span>
<span class="sd">        The maximum number of feedback records.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The job key from the PubChem web service.</span>
<span class="sd">    """</span>
    <span class="n">escaped_smiles</span> <span class="o">=</span> <span class="n">quote</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"/"</span><span class="p">,</span> <span class="s2">"."</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/similarity/smiles/</span><span class="si">{</span><span class="n">escaped_smiles</span><span class="si">}</span><span class="s2">/JSON?Threshold=</span><span class="si">{</span><span class="n">threshold</span><span class="si">}</span><span class="s2">&amp;MaxRecords=</span><span class="si">{</span><span class="n">n_records</span><span class="si">}</span><span class="s2">"</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">"Waiting"</span><span class="p">][</span><span class="s2">"ListKey"</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">key</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">job_key</span> <span class="o">=</span> <span class="n">query_pubchem_for_similar_compounds</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="3.-Download-results-when-job-finished">
<h4 id="3.-Download-results-when-job-finished">3. Download results when job finished<a class="headerlink" href="#3.-Download-results-when-job-finished" title="Permalink to this heading">¶</a></h4>
<p>Check if the job finished within the time limit. The standard time limit in PubChem is 30 seconds (we can reset it). It means that if a request is not completed within the time limit, a timeout error will be returned. So, just wait patiently for the callback.</p>
<p>Then download results - PubChem CIDs in this case - when the job is finished.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_and_download</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">attempts</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Check job status and download PubChem CIDs when the job finished</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    key : str</span>
<span class="sd">        The job key of the PubChem service.</span>
<span class="sd">    attempts : int</span>
<span class="sd">        The time waiting for the feedback from the PubChem service.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list</span>
<span class="sd">        The PubChem CIDs of similar compounds.</span>
<span class="sd">    """</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/listkey/</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">/cids/JSON"</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Querying for job </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> at URL </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">..."</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">attempts</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">"IdentifierList"</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">cids</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"IdentifierList"</span><span class="p">][</span><span class="s2">"CID"</span><span class="p">]</span>
            <span class="k">break</span>
        <span class="n">attempts</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"."</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Could not find matches for job key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cids</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">similar_cids</span> <span class="o">=</span> <span class="n">check_and_download</span><span class="p">(</span><span class="n">job_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Querying for job 624510668210559704 at URL https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/listkey/624510668210559704/cids/JSON...
</pre></div></div>
</div>
</section>
<section id="4.-Get-canonical-SMILES-for-resulting-molecules">
<h4 id="4.-Get-canonical-SMILES-for-resulting-molecules">4. Get canonical SMILES for resulting molecules<a class="headerlink" href="#4.-Get-canonical-SMILES-for-resulting-molecules" title="Permalink to this heading">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">smiles_from_pubchem_cids</span><span class="p">(</span><span class="n">cids</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Get the canonical SMILES string from the PubChem CIDs.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    cids : list</span>
<span class="sd">        A list of PubChem CIDs.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list</span>
<span class="sd">        The canonical SMILES strings of the PubChem CIDs.</span>
<span class="sd">    """</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/</span><span class="si">{</span><span class="s1">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="w"> </span><span class="n">cids</span><span class="p">))</span><span class="si">}</span><span class="s2">/property/CanonicalSMILES/JSON"</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s2">"CanonicalSMILES"</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">"PropertyTable"</span><span class="p">][</span><span class="s2">"Properties"</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">similar_smiles</span> <span class="o">=</span> <span class="n">smiles_from_pubchem_cids</span><span class="p">(</span><span class="n">similar_cids</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Then, we create the RDKit molecules and depict them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query_results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">"smiles"</span><span class="p">:</span> <span class="n">similar_smiles</span><span class="p">,</span> <span class="s2">"CIDs"</span><span class="p">:</span> <span class="n">similar_cids</span><span class="p">})</span>
<span class="n">PandasTools</span><span class="o">.</span><span class="n">AddMoleculeColumnToFrame</span><span class="p">(</span><span class="n">query_results_df</span><span class="p">,</span> <span class="n">smilesCol</span><span class="o">=</span><span class="s2">"smiles"</span><span class="p">)</span>
<span class="n">query_results_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>smiles</th>
<th>CIDs</th>
<th>ROMol</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>CN1CCC(CC1)COC2=C(C=C3C(=C2)N=CN=C3NC4=C(C=C(C...</td>
<td>3081361</td>
<td>&lt;rdkit.Chem.rdchem.Mol object at 0x7f964f7dbe20&gt;</td>
</tr>
<tr>
<th>1</th>
<td>CS(=O)(=O)CCNCC1=CC=C(O1)C2=CC3=C(C=C2)N=CN=C3...</td>
<td>208908</td>
<td>&lt;rdkit.Chem.rdchem.Mol object at 0x7f964f7dbdc0&gt;</td>
</tr>
<tr>
<th>2</th>
<td>COCCOC1=C(C=C2C(=C1)C(=NC=N2)NC3=CC=CC(=C3)C#C...</td>
<td>176870</td>
<td>&lt;rdkit.Chem.rdchem.Mol object at 0x7f964f7dbe80&gt;</td>
</tr>
<tr>
<th>3</th>
<td>COC1=C(C=C2C(=C1)C(=NC(=N2)N3CCN(CC3)C(=O)C4=C...</td>
<td>68546</td>
<td>&lt;rdkit.Chem.rdchem.Mol object at 0x7f964f7dbee0&gt;</td>
</tr>
<tr>
<th>4</th>
<td>CN(CCCNC(=O)C1CCCO1)C2=NC3=CC(=C(C=C3C(=N2)N)O...</td>
<td>2092</td>
<td>&lt;rdkit.Chem.rdchem.Mol object at 0x7f964f7dbf40&gt;</td>
</tr>
</tbody>
</table>
</div></div>
</div>
</section>
<section id="5.-Show-the-results">
<h4 id="5.-Show-the-results">5. Show the results<a class="headerlink" href="#5.-Show-the-results" title="Permalink to this heading">¶</a></h4>
<p>Show the compounds with images using RDKit’s drawing functions.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">multi_preview_smiles</span><span class="p">(</span><span class="n">query_smiles</span><span class="p">,</span> <span class="n">query_name</span><span class="p">,</span> <span class="n">similar_molecules_pd</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Show query and similar compounds in 2D structure representation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    query_smiles : str</span>
<span class="sd">        The SMILES string of query compound.</span>
<span class="sd">    query_name : str</span>
<span class="sd">        The name of query compound.</span>
<span class="sd">    similar_molecules_pd : pandas</span>
<span class="sd">        The pandas DataFrame which contains the SMILES string and CIDs of similar molecules.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    MolsToGridImage</span>
<span class="sd">    """</span>

    <span class="n">legends</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"PubChem CID: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">similar_molecules_pd</span><span class="p">[</span><span class="s2">"CIDs"</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
    <span class="n">molecules</span> <span class="o">=</span> <span class="p">[</span><span class="n">Chem</span><span class="o">.</span><span class="n">MolFromSmiles</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">similar_molecules_pd</span><span class="p">[</span><span class="s2">"smiles"</span><span class="p">]]</span>
    <span class="n">query_smiles</span> <span class="o">=</span> <span class="n">Chem</span><span class="o">.</span><span class="n">MolFromSmiles</span><span class="p">(</span><span class="n">query_smiles</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">MolsToGridImage</span><span class="p">(</span>
        <span class="p">[</span><span class="n">query_smiles</span><span class="p">]</span> <span class="o">+</span> <span class="n">molecules</span><span class="p">,</span>
        <span class="n">molsPerRow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">subImgSize</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span>
        <span class="n">maxMols</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">molecules</span><span class="p">),</span>
        <span class="n">legends</span><span class="o">=</span><span class="p">([</span><span class="n">query_name</span><span class="p">]</span> <span class="o">+</span> <span class="n">legends</span><span class="p">),</span>
        <span class="n">useSVG</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"The results of querying similar compounds for Gefitinib:"</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">multi_preview_smiles</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="s2">"Gefitinib"</span><span class="p">,</span> <span class="n">query_results_df</span><span class="p">)</span>
<span class="n">img</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The results of querying similar compounds for Gefitinib:
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
~/.miniconda3/envs/teachopencadd/lib/python3.9/site-packages/rdkit/Chem/Draw/IPythonConsole.py:258: UserWarning: Truncating the list of molecules to be displayed to 10. Change the maxMols value to display more.
  warnings.warn(
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/talktorials_T013_query_pubchem_33_2.svg" src="../_images/talktorials_T013_query_pubchem_33_2.svg"/></div>
</div>
</section>
</section>
</section>
<section id="Discussion">
<h2 id="Discussion">Discussion<a class="headerlink" href="#Discussion" title="Permalink to this heading">¶</a></h2>
<p>In this notebook, you have learned how to access and search similar compounds from the PubChem database via the PUG-REST programmatic access. Is it convenient? PUG-REST can do more than that. See <a class="reference external" href="https://pubchemdocs.ncbi.nlm.nih.gov/pug-rest-tutorial">PUG-REST</a> to get more power!</p>
</section>
<section id="Quiz">
<h2 id="Quiz">Quiz<a class="headerlink" href="#Quiz" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Can you make the similarity search more strict?</p></li>
<li><p>Is any of the proposed candidates already an approved inhibitor? (Hint: You can <em>scrape</em> <a class="reference external" href="https://www.icoa.fr/pkidb/index.html">PKIDB</a> and check against the list of SMILES, also see <strong>Talktorial T011</strong>)</p></li>
<li><p>Can you try to reuse the functions in this notebook so search for similar compounds to Imatinib and inspect your results?</p></li>
</ul>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {}, "version_major": 2, "version_minor": 0}
</script></section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="T012_query_klifs.html" title="T012 · Data acquisition from KLIFS"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> T012 · Data acquisition from KLIFS </span>
              </div>
            </a>
          
          
            <a href="T014_binding_site_detection.html" title="T014 · Binding site detection"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> T014 · Binding site detection </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2018-2023, Volkamer Lab. Project structure based on the Computational Molecular Science Python Cookiecutter version 1.1.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>